var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,i=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&l(e,t,a[t]);if(n)for(var t of n(a))o.call(a,t)&&l(e,t,a[t]);return e},s=(e,n)=>a(e,t(n));import{R as c,A as m,T as p,B as d,L as u,a as k,I as g,d as y,b as E,c as h,m as f,r as b,C as v,e as x,f as C,g as S,h as w,i as T,j,k as W,l as N,n as D,D as O,o as F,p as z,q as I,s as P,t as L,u as B,v as A,w as $,x as K,y as _,P as U,z as G,E as J,F as q,G as H,H as R,J as V,K as M,M as Q,S as X,N as Y,O as Z,Q as ee,U as ae,V as te,W as ne,X as re,Y as oe,Z as le,_ as ie,$ as se,a0 as ce,a1 as me,a2 as pe,a3 as de}from"./vendor.e9d4b19b.js";const ue=({darkState:e,handleThemeChange:a})=>c.createElement(m,{color:"secondary",position:"sticky"},c.createElement(p,null,c.createElement("div",{style:{flexGrow:1}},c.createElement(d,{component:u,to:"/toko-dorayaki"},"Stand with Dorayaki")),c.createElement(d,{component:u,to:"/dorayaki"},"Dorayaki"),c.createElement(k,{title:"Toggle dark/light mode"},c.createElement(g,{"aria-label":"light/dark mode",onClick:a,component:"span"},e?c.createElement(y,null):c.createElement(E,null))))),ke=async()=>{try{const e="https://dev.farizdotid.com/api/daerahindonesia/provinsi";return(await h.get(e)).data.provinsi}catch(e){return{error:e}}},ge=async e=>{try{const a=`https://dev.farizdotid.com/api/daerahindonesia/kota?id_provinsi=${e}`;return(await h.get(a)).data.kota_kabupaten}catch(a){return{error:a}}},ye=async e=>{try{const a=`https://dev.farizdotid.com/api/daerahindonesia/kecamatan?id_kota=${e}`;return(await h.get(a)).data.kecamatan}catch(a){return{error:a}}},Ee="https://api-stand-with-dorayaki.eastus.cloudapp.azure.com:5000/api/v1",he=f((e=>({root:{width:"25vh"},media:{height:0,paddingTop:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}))),fe=({dataToko:e,syncDataTokos:a,notif:t,setNotif:n})=>{const[r,o]=b.exports.useState(!1),[l,m]=b.exports.useState({provinsi:[],kabupaten:[],kecamatan:[]}),[p,u]=b.exports.useState(e),[k,g]=b.exports.useState(!1);b.exports.useEffect((()=>{(async()=>{try{const a=await ke(),t=a.filter((a=>a.nama===e.provinsi))[0].id,n=await ge(t),r=n.filter((a=>a.nama===e.kabupaten))[0].id,o=await ye(r);m(s(i({},l),{provinsi:a,kabupaten:n,kecamatan:o})),u(s(i({},e),{provinsi:e.provinsi,kabupaten:e.kabupaten,kecamatan:e.kecamatan}))}catch(a){let e=a.message.toString();a.response&&a.response.data.error&&(e=a.response.data.error),n(s(i({},t),{open:!0,type:"error",msg:e}))}})()}),[r]);const y=()=>{o(!1)},E=async()=>{g(!0);try{const r=`https://api-stand-with-dorayaki.eastus.cloudapp.azure.com:5000/api/v1/toko-dorayakis/${e._id}`,{nama:l,jalan:c,kabupaten:m,kecamatan:d,provinsi:u,pngFile:k}=p,y=new FormData;l&&y.append("nama",l),c&&y.append("jalan",c),m&&y.append("kabupaten",m),d&&y.append("kecamatan",d),u&&y.append("provinsi",u),k&&y.append("gambar",k),await h.put(r,y),await a(),n(s(i({},t),{open:!0,type:"success",msg:"toko berhasil diupdate"})),o(!1)}catch(r){let e=r.message.toString();r.response&&r.response.data.error&&(e=r.response.data.error),n(s(i({},t),{open:!0,type:"error",msg:e}))}finally{g(!1)}};return c.createElement("div",null,c.createElement(d,{size:"small",variant:"contained",color:"primary",startIcon:c.createElement(D,null),onClick:()=>{o(!0)}},"Edit"),c.createElement(O,{open:r,onClose:y,"aria-labelledby":"form-dialog-title"},c.createElement(F,{id:"form-dialog-title"},"Edit Toko"),c.createElement(z,null,c.createElement(I,null,"Silahkan edit data toko dengan data yang benar."),c.createElement("form",null),c.createElement(P,{autoFocus:!0,value:p.nama,style:{maxWidth:400},margin:"dense",label:"Nama",type:"text",fullWidth:!0,variant:"outlined",onChange:e=>u(s(i({},p),{nama:e.target.value}))}),c.createElement(L,{value:{nama:p.provinsi},options:l.provinsi,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:async(e,a,r)=>{if("clear"===r)u(s(i({},p),{provinsi:"",kabupaten:"",kecamatan:""}));else if(a)try{const e=await ge(a.id);u(s(i({},p),{provinsi:a.nama,kabupaten:"",kecamatan:""})),m(s(i({},l),{kabupaten:e}))}catch(o){let e=o.message.toString();o.response&&o.response.data.error&&(e=o.response.data.error),n(s(i({},t),{open:!0,type:"error",msg:e}))}},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Provinsi",variant:"outlined"}))}),c.createElement(L,{value:{nama:p.kabupaten},options:l.kabupaten,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:async(e,a,r)=>{if("clear"===r)u(s(i({},p),{kabupaten:"",kecamatan:""}));else if(a)try{const e=await ye(a.id);u(s(i({},p),{kabupaten:a.nama,kecamatan:""})),m(s(i({},l),{kecamatan:e}))}catch(o){let e=o.message.toString();o.response&&o.response.data.error&&(e=o.response.data.error),n(s(i({},t),{open:!0,type:"error",msg:e}))}},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Kabupaten",variant:"outlined"}))}),c.createElement(L,{value:{nama:p.kecamatan},options:l.kecamatan,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:(e,a,t)=>{"clear"===t?u(s(i({},p),{kecamatan:""})):a&&u(s(i({},p),{kecamatan:a.nama}))},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Kecamatan",variant:"outlined"}))}),c.createElement(P,{value:p.jalan,style:{maxWidth:400},margin:"dense",label:"Jalan",type:"text",fullWidth:!0,variant:"outlined",onChange:e=>u(s(i({},p),{jalan:e.target.value}))}),c.createElement("div",null,"Gambar",c.createElement("div",{style:{display:"grid"}},c.createElement("input",{accept:"image/png",type:"file",onChange:e=>u(s(i({},p),{pngFile:e.target.files[0]}))})))),c.createElement(B,null,c.createElement(d,{onClick:y,color:"primary"},"Cancel"),k?c.createElement(d,{onClick:E,disabled:!0,variant:"contained",color:"primary",autoFocus:!0},c.createElement(A,{size:20})," Updating..."):e.nama!==p.nama||e.provinsi!==p.provinsi||e.kabupaten!==p.kabupaten||e.kecamatan!==p.kecamatan||e.jalan!==p.jalan||p.pngFile?c.createElement(d,{onClick:E,variant:"contained",color:"primary",autoFocus:!0},"Update"):c.createElement(d,{onClick:E,disabled:!0,variant:"contained",color:"primary",autoFocus:!0},"Update"))))},be=({dataToko:e,syncDataTokos:a,notif:t,setNotif:n})=>{const[r,o]=b.exports.useState(!1),[l,m]=b.exports.useState(!1),p=()=>{o(!1)},u=async()=>{m(!0);try{const r=`https://api-stand-with-dorayaki.eastus.cloudapp.azure.com:5000/api/v1/toko-dorayakis/${e._id}`;await h.delete(r),n(s(i({},t),{open:!0,type:"success",msg:"toko berhasil dihapus"})),o(!1),await a()}catch(r){let e=r.message.toString();r.response&&r.response.data.error&&(e=r.response.data.error),n(s(i({},t),{open:!0,type:"error",msg:e}))}};return c.createElement("div",null,c.createElement(d,{size:"small",variant:"contained",style:{backgroundColor:"#bf360c",color:"inherit"},startIcon:c.createElement($,null),onClick:()=>{o(!0)}},"Delete"),c.createElement(O,{open:r,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.createElement(F,{id:"alert-dialog-title"},`Delete Toko ${e.nama}?`),c.createElement(z,null,c.createElement(I,{id:"alert-dialog-description"},"Penghapusan toko akan berdampak dihapusnya semua stok dorayaki toko tersebut.")),c.createElement(B,null,c.createElement(d,{onClick:p,variant:"contained",color:"primary"},"Cancel"),l?c.createElement(d,{onClick:u,disabled:!0,variant:"contained",style:{color:"#bf360c"},autoFocus:!0},c.createElement(A,{size:20})," Deleting..."):c.createElement(d,{onClick:u,variant:"contained",style:{backgroundColor:"#bf360c"},autoFocus:!0},"Delete"))))},ve=({dataToko:e,syncDataTokos:a,notif:t,setNotif:n})=>{const r=he(),[o,l]=b.exports.useState(!1);return c.createElement(v,{className:r.root},c.createElement(x,{style:{height:"33vh"}},c.createElement(C,{className:r.media,image:Ee+e.gambar,title:e.nama}),c.createElement(S,null,c.createElement(w,{gutterBottom:!0,variant:"h6",component:"h2"},e.nama))),c.createElement(T,{style:{display:"flex",justifyContent:"space-between"}},c.createElement(fe,{dataToko:e,syncDataTokos:a,notif:t,setNotif:n}),c.createElement(be,{dataToko:e,syncDataTokos:a,notif:t,setNotif:n}),c.createElement(g,{className:j(r.expand,{[r.expandOpen]:o}),onClick:()=>l(!o),"aria-expanded":o,"aria-label":"show more"},c.createElement(W,null))),c.createElement(N,{in:o,timeout:"auto",unmountOnExit:!0},c.createElement(S,null,c.createElement(w,null,c.createElement("strong",null,"Alamat Toko")),c.createElement("br",null),c.createElement(w,null,c.createElement("strong",null,"Jalan: ")," ",e.jalan),c.createElement(w,null,c.createElement("strong",null,"Kecamatan: "),e.kecamatan),c.createElement(w,null,c.createElement("strong",null,"Kabupaten: ")," ",e.kabupaten),c.createElement(w,null,c.createElement("strong",null,"Provinsi: ")," ",e.provinsi))))},xe=f((e=>({root:{padding:"2px 4px",margin:"0rem auto",display:"flex",alignItems:"center",maxWidth:"400px"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}))),Ce={display:"flex",justifyContent:"flex-start",flexWrap:"wrap",minHeight:"60vh"},Se=({syncDataTokos:e,notif:a,setNotif:t})=>{const[n,r]=b.exports.useState(!1),[o,l]=b.exports.useState({}),[m,p]=b.exports.useState({provinsi:[],kabupaten:[],kecamatan:[]}),[u,k]=b.exports.useState(!1),g=()=>{r(!1),l({nama:"",provinsi:"",kabupaten:"",kecamatan:"",jalan:""})};b.exports.useEffect((()=>{(async()=>{const e=await ke();p(s(i({},m),{provinsi:e})),l({nama:"",provinsi:"",kabupaten:"",kecamatan:"",jalan:""})})()}),[n]);const y=async()=>{k(!0);try{const n=Ee+"/toko-dorayakis/",{nama:l,jalan:c,kabupaten:m,kecamatan:p,provinsi:d,pngFile:u}=o,g=new FormData;l&&g.append("nama",l),c&&g.append("jalan",c),m&&g.append("kabupaten",m),p&&g.append("kecamatan",p),d&&g.append("provinsi",d),u&&g.append("gambar",u),await h.post(n,g),await e(),t(s(i({},a),{open:!0,type:"success",msg:"toko berhasil ditambahkan!"})),r(!1)}catch(n){let e=n.message.toString();n.response&&n.response.data.error&&(e=n.response.data.error),t(s(i({},a),{open:!0,type:"error",msg:e}))}finally{k(!1)}};return c.createElement("div",{style:{display:"grid",maxWidth:"7rem",margin:"1rem auto"}},c.createElement(d,{size:"small",variant:"contained",color:"primary",startIcon:c.createElement(Z,null),onClick:()=>{r(!0)}},"Add Toko"),c.createElement(O,{open:n,onClose:g,"aria-labelledby":"form-dialog-title"},c.createElement(F,{id:"form-dialog-title"},"Add Toko"),c.createElement(z,null,c.createElement(I,null,"Silahkan tambahkan toko dengan data yang benar."),c.createElement(P,{autoFocus:!0,value:o.nama,style:{maxWidth:400},margin:"dense",label:"Nama",type:"text",fullWidth:!0,variant:"outlined",onChange:e=>l(s(i({},o),{nama:e.target.value}))}),c.createElement(L,{value:{nama:o.provinsi},options:m.provinsi,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:async(e,n,r)=>{if("clear"===r)l(s(i({},o),{provinsi:"",kabupaten:"",kecamatan:""}));else if(n)try{const e=await ge(n.id);l(s(i({},o),{provinsi:n.nama,kabupaten:"",kecamatan:""})),p(s(i({},m),{kabupaten:e}))}catch(c){let e=c.message.toString();c.response&&c.response.data.error&&(e=c.response.data.error),t(s(i({},a),{open:!0,type:"error",msg:e}))}},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Provinsi",variant:"outlined"}))}),c.createElement(L,{value:{nama:o.kabupaten},options:m.kabupaten,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:async(e,n,r)=>{if("clear"===r)l(s(i({},o),{kabupaten:"",kecamatan:""}));else if(n)try{const e=await ye(n.id);l(s(i({},o),{kabupaten:n.nama,kecamatan:""})),p(s(i({},m),{kecamatan:e}))}catch(c){let e=c.message.toString();c.response&&c.response.data.error&&(e=c.response.data.error),t(s(i({},a),{open:!0,type:"error",msg:e}))}},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Kabupaten",variant:"outlined"}))}),c.createElement(L,{value:{nama:o.kecamatan},options:m.kecamatan,getOptionSelected:(e,a)=>!a.nama||e.nama===a.nama,getOptionLabel:e=>e.nama?e.nama:"",style:{maxWidth:400},onChange:(e,a,t)=>{"clear"===t?l(s(i({},o),{kecamatan:""})):a&&l(s(i({},o),{kecamatan:a.nama}))},renderInput:e=>c.createElement(P,s(i({},e),{margin:"dense",fullWidth:!0,label:"Kecamatan",variant:"outlined"}))}),c.createElement(P,{value:o.jalan,style:{maxWidth:400},margin:"dense",label:"Jalan",type:"text",fullWidth:!0,variant:"outlined",onChange:e=>l(s(i({},o),{jalan:e.target.value}))}),c.createElement("div",null,"Gambar",c.createElement("div",{style:{display:"grid"}},c.createElement("input",{accept:"image/png",type:"file",onChange:e=>l(s(i({},o),{pngFile:e.target.files[0]}))})))),c.createElement(B,null,c.createElement(d,{onClick:g,color:"primary"},"Cancel"),u?c.createElement(d,{onClick:y,disabled:!0,variant:"contained",color:"primary",autoFocus:!0},c.createElement(A,{size:20})," Adding..."):""!==o.nama||""!==o.provinsi||""!==o.kabupaten||""!==o.kecamatan||""!==o.jalan||o.pngFile?c.createElement(d,{onClick:y,variant:"contained",color:"primary",autoFocus:!0},"Add"):c.createElement(d,{onClick:y,disabled:!0,variant:"contained",color:"primary",autoFocus:!0},"Add"))))},we=({dataTokos:e,syncDataTokos:a,notif:t,setNotif:n})=>{const r=_(),o=K().pathname;let l=new URLSearchParams(K().search),m=[...e],p=(l.get("q")||"").trim(),d={nama:!0,jalan:!1,kecamatan:!1,kabupaten:!1,provinsi:!1};const u=["nama","jalan","kecamatan","kabupaten","provinsi"];if(0!=p.length){const e=(l.get("sm")||"").trim().split("|").map((e=>e.trim())).filter((e=>u.includes(e)));if(0!=e.length){d.nama=!1;let a=[];for(const t of e)d[t]=!0,a=a.concat(m.filter((e=>e[t].toLowerCase().includes(p.toLowerCase()))));m=a}}const[k,y]=b.exports.useState(p),[E,h]=b.exports.useState(d),f=e=>{h(s(i({},E),{[e.target.name]:e.target.checked}))},[v,x]=b.exports.useState(!0),C=()=>x(!v),S=xe(),w=()=>{let e=[];for(const a of u)E[a]&&e.push(a);0!=e.length?(e=e.join("|"),r.push(o+`?q=${k}&sm=${e}`)):n(s(i({},t),{open:!0,type:"error",msg:"setting method must be provided"}))};return c.createElement(c.Fragment,null,c.createElement(U,{component:"form",onSubmit:e=>{e.preventDefault(),w()},className:S.root},c.createElement(G,{className:S.input,placeholder:"Cari Toko Dorayaki",inputProps:{"aria-label":"cari toko dorayaki"},onChange:e=>y(e.target.value),value:k}),c.createElement(g,{onClick:w,className:S.iconButton,"aria-label":"search"},c.createElement(J,null)),c.createElement(q,{className:S.divider,orientation:"vertical"}),v?c.createElement(g,{color:"primary",className:S.iconButton,onClick:C,"aria-label":"settings"},c.createElement(H,null)):c.createElement(g,{color:"primary",className:S.iconButton,onClick:C,"aria-label":"settings"},c.createElement(R,null))),c.createElement(Se,{syncDataTokos:a,notif:t,setNotif:n}),c.createElement(N,{in:!v},c.createElement(U,{style:{margin:"1rem"}},c.createElement(V,{textAlign:"center",fontWeight:"fontWeightBold",fontSize:"h6.fontSize"},"Pencarian Toko Berdasarkan:"),c.createElement(q,{orientation:"horizontal"}),c.createElement(M,{row:!0,style:{marginLeft:"1rem"}},u.map(((e,a)=>c.createElement(Q,{key:a,control:c.createElement(X,{key:a,checked:E[e],onChange:f,name:e,color:"primary"}),label:e[0].toUpperCase()+e.substr(1)})))),c.createElement(q,{orientation:"horizontal"}))),c.createElement("div",{style:Ce},m.map(((e,r)=>c.createElement("div",{key:r},c.createElement(Y,{in:!0,key:r,timeout:500+100*r},c.createElement(U,{elevation:10,key:r,style:{margin:"1rem"}},c.createElement(ve,{key:r,dataToko:e,syncDataTokos:a,notif:t,setNotif:n}))))))))},Te=f({root:{maxWidth:"16rem"},media:{height:"20vh"}}),je=({dataTokoStok:e})=>{const a=Te();return b.exports.useState(0),c.createElement(v,{className:a.root},c.createElement(C,{className:a.media,image:e.gambar,title:e.nama}),c.createElement(S,null,c.createElement(w,{gutterBottom:!0,variant:"h5",component:"h2"},"Dorayaki ",e.rasa),c.createElement(w,{gutterBottom:!0,variant:"h6",component:"h2"},e.deskripsi)),c.createElement("div",{style:{display:"flex"}},c.createElement(P,{id:"filled-number",label:"Stok Dorayaki",type:"number",InputProps:{disabled:!0,defaultValue:0},size:"small",variant:"outlined",style:{maxWidth:"10rem",margin:"1rem"}}),c.createElement(g,{color:"primary","aria-label":"edit stok",component:"span"},c.createElement(D,null))))},We={display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},Ne=()=>{const[e,a]=b.exports.useState([]);return ee(),b.exports.useEffect((()=>{a([{rasa:"manis",deskripsi:"dorayaki coklat",gambar:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Dorayaki_001.jpg",stok:5}])}),[]),c.createElement(c.Fragment,null,c.createElement("div",{style:We},e.map(((e,a)=>c.createElement("div",{key:a},c.createElement(Y,{in:!0,key:a},c.createElement(U,{elevation:10,key:a,style:{margin:"1rem"}},c.createElement(je,{key:a,dataTokoStok:e}))))))))};function De(e){return c.createElement(te,i({elevation:6,variant:"filled"},e))}const Oe=f((e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}))),Fe=({notif:e,setNotif:a})=>{const t=Oe(),n=(t,n)=>{"clickaway"!==n&&a(s(i({},e),{open:!1}))};return c.createElement("div",{className:t.root},c.createElement(ae,{open:e.open,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"}},c.createElement(De,{onClose:n,severity:e.type},e.msg)))};function ze(){const[e,a]=b.exports.useState(!1),t=e?"dark":"light",n=e?ne[500]:re[500],r=e?oe[500]:le[900],o=ie({palette:{type:t,primary:{main:n},secondary:{main:r}}}),[l,i]=b.exports.useState([]);b.exports.useEffect((()=>{(async()=>{try{const e=(await h.get(Ee+"/toko-dorayakis")).data;i(e)}catch(e){console.log(e.message)}})()}),[]);const[s,m]=b.exports.useState({open:!1,type:"",msg:""});return c.createElement(se,null,c.createElement(Fe,{notif:s,setNotif:m}),c.createElement(ce,{theme:o},c.createElement(ue,{darkState:e,handleThemeChange:()=>{a(!e)}}),c.createElement(U,{style:{height:"auto"}},c.createElement(me,null,c.createElement(pe,{path:"/toko-dorayaki"},c.createElement(we,{dataTokos:l,syncDataTokos:async()=>{try{const e=(await h.get(Ee+"/toko-dorayakis")).data;i(e)}catch(e){console.log(e.message)}},notif:s,setNotif:m})),c.createElement(pe,{path:"/toko-dorayaki-stok"},c.createElement(Ne,null))))))}de.render(c.createElement(ze,null),document.getElementById("root"));
